
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\project\RIDE\obj\stm32_eval.o:     file format elf32-littlearm
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\project\RIDE\obj\stm32_eval.o

Disassembly of section .text.STM_EVAL_LEDOn:

00000000 <STM_EVAL_LEDOn>:
STM_EVAL_LEDOn():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:238
  *     @arg LED4  
  * @retval None
  */
void STM_EVAL_LEDOn(Led_TypeDef Led)
{
  GPIO_PORT[Led]->BSRR = GPIO_PIN[Led]; 
   0:	4b03      	ldr	r3, [pc, #12]	(10 <STM_EVAL_LEDOn+0x10>)
   2:	f853 2020 	ldr.w	r2, [r3, r0, lsl #2]
   6:	4b03      	ldr	r3, [pc, #12]	(14 <STM_EVAL_LEDOn+0x14>)
   8:	f833 3010 	ldrh.w	r3, [r3, r0, lsl #1]
   c:	6113      	str	r3, [r2, #16]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:239
}
   e:	4770      	bx	lr
	...
Disassembly of section .text.STM_EVAL_LEDOff:

00000000 <STM_EVAL_LEDOff>:
STM_EVAL_LEDOff():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:253
  *     @arg LED4 
  * @retval None
  */
void STM_EVAL_LEDOff(Led_TypeDef Led)
{
  GPIO_PORT[Led]->BRR = GPIO_PIN[Led];
   0:	4b03      	ldr	r3, [pc, #12]	(10 <STM_EVAL_LEDOff+0x10>)
   2:	f853 2020 	ldr.w	r2, [r3, r0, lsl #2]
   6:	4b03      	ldr	r3, [pc, #12]	(14 <STM_EVAL_LEDOff+0x14>)
   8:	f833 3010 	ldrh.w	r3, [r3, r0, lsl #1]
   c:	6153      	str	r3, [r2, #20]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:254
}
   e:	4770      	bx	lr
	...
Disassembly of section .text.STM_EVAL_LEDToggle:

00000000 <STM_EVAL_LEDToggle>:
STM_EVAL_LEDToggle():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:268
  *     @arg LED4  
  * @retval None
  */
void STM_EVAL_LEDToggle(Led_TypeDef Led)
{
  GPIO_PORT[Led]->ODR ^= GPIO_PIN[Led];
   0:	4b04      	ldr	r3, [pc, #16]	(14 <STM_EVAL_LEDToggle+0x14>)
   2:	f853 1020 	ldr.w	r1, [r3, r0, lsl #2]
   6:	4b04      	ldr	r3, [pc, #16]	(18 <STM_EVAL_LEDToggle+0x18>)
   8:	68ca      	ldr	r2, [r1, #12]
   a:	f833 3010 	ldrh.w	r3, [r3, r0, lsl #1]
   e:	4053      	eors	r3, r2
  10:	60cb      	str	r3, [r1, #12]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:269
}
  12:	4770      	bx	lr
	...
Disassembly of section .text.STM_EVAL_LEDInit:

00000000 <STM_EVAL_LEDInit>:
STM_EVAL_LEDInit():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:212
  *     @arg LED3
  *     @arg LED4
  * @retval None
  */
void STM_EVAL_LEDInit(Led_TypeDef Led)
{
   0:	b537      	push	{r0, r1, r2, r4, r5, lr}
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:216
  GPIO_InitTypeDef  GPIO_InitStructure;
  
  /* Enable the GPIO_LED Clock */
  RCC_APB2PeriphClockCmd(GPIO_CLK[Led], ENABLE);
   2:	4d0c      	ldr	r5, [pc, #48]	(34 <STM_EVAL_LEDInit+0x34>)
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:212
  *     @arg LED3
  *     @arg LED4
  * @retval None
  */
void STM_EVAL_LEDInit(Led_TypeDef Led)
{
   4:	4604      	mov	r4, r0
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:216
  GPIO_InitTypeDef  GPIO_InitStructure;
  
  /* Enable the GPIO_LED Clock */
  RCC_APB2PeriphClockCmd(GPIO_CLK[Led], ENABLE);
   6:	eb05 0380 	add.w	r3, r5, r0, lsl #2
   a:	6898      	ldr	r0, [r3, #8]
   c:	2101      	movs	r1, #1
   e:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:220

  /* Configure the GPIO_LED pin */
  GPIO_InitStructure.GPIO_Pin = GPIO_PIN[Led];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 
  12:	2310      	movs	r3, #16
  14:	f88d 3007 	strb.w	r3, [sp, #7]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:221
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  18:	2303      	movs	r3, #3
  1a:	f88d 3006 	strb.w	r3, [sp, #6]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:223

  GPIO_Init(GPIO_PORT[Led], &GPIO_InitStructure);
  1e:	4b06      	ldr	r3, [pc, #24]	(38 <STM_EVAL_LEDInit+0x38>)
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:219
  
  /* Enable the GPIO_LED Clock */
  RCC_APB2PeriphClockCmd(GPIO_CLK[Led], ENABLE);

  /* Configure the GPIO_LED pin */
  GPIO_InitStructure.GPIO_Pin = GPIO_PIN[Led];
  20:	f835 5014 	ldrh.w	r5, [r5, r4, lsl #1]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:223
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;

  GPIO_Init(GPIO_PORT[Led], &GPIO_InitStructure);
  24:	f853 0024 	ldr.w	r0, [r3, r4, lsl #2]
  28:	a901      	add	r1, sp, #4
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:219
  
  /* Enable the GPIO_LED Clock */
  RCC_APB2PeriphClockCmd(GPIO_CLK[Led], ENABLE);

  /* Configure the GPIO_LED pin */
  GPIO_InitStructure.GPIO_Pin = GPIO_PIN[Led];
  2a:	f8ad 5004 	strh.w	r5, [sp, #4]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:223
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;

  GPIO_Init(GPIO_PORT[Led], &GPIO_InitStructure);
  2e:	f7ff fffe 	bl	0 <GPIO_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:224
}
  32:	bd3e      	pop	{r1, r2, r3, r4, r5, pc}
	...
Disassembly of section .text.STM_EVAL_COMInit:

00000000 <STM_EVAL_COMInit>:
STM_EVAL_COMInit():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:365
  * @param  USART_InitStruct: pointer to a USART_InitTypeDef structure that
  *   contains the configuration information for the specified USART peripheral.
  * @retval None
  */
void STM_EVAL_COMInit(COM_TypeDef COM, USART_InitTypeDef* USART_InitStruct)
{
   0:	e92d 4373 	stmdb	sp!, {r0, r1, r4, r5, r6, r8, r9, lr}
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:369
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Enable GPIO clock */
  RCC_APB2PeriphClockCmd(COM_POR_CLK[COM] | RCC_APB2Periph_AFIO, ENABLE);
   4:	4d1b      	ldr	r5, [pc, #108]	(74 <STM_EVAL_COMInit+0x74>)
   6:	ea4f 0880 	mov.w	r8, r0, lsl #2
   a:	eb05 0408 	add.w	r4, r5, r8
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:365
  * @param  USART_InitStruct: pointer to a USART_InitTypeDef structure that
  *   contains the configuration information for the specified USART peripheral.
  * @retval None
  */
void STM_EVAL_COMInit(COM_TypeDef COM, USART_InitTypeDef* USART_InitStruct)
{
   e:	4606      	mov	r6, r0
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:369
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Enable GPIO clock */
  RCC_APB2PeriphClockCmd(COM_POR_CLK[COM] | RCC_APB2Periph_AFIO, ENABLE);
  10:	6960      	ldr	r0, [r4, #20]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:365
  * @param  USART_InitStruct: pointer to a USART_InitTypeDef structure that
  *   contains the configuration information for the specified USART peripheral.
  * @retval None
  */
void STM_EVAL_COMInit(COM_TypeDef COM, USART_InitTypeDef* USART_InitStruct)
{
  12:	4689      	mov	r9, r1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:369
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Enable GPIO clock */
  RCC_APB2PeriphClockCmd(COM_POR_CLK[COM] | RCC_APB2Periph_AFIO, ENABLE);
  14:	f040 0001 	orr.w	r0, r0, #1	; 0x1
  18:	2101      	movs	r1, #1
  1a:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:404
#elif defined (USE_MANGO_Z1_EVAL)
    RCC_APB2PeriphClockCmd(COM_USART_CLK[COM], ENABLE); 
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  1e:	eb05 0546 	add.w	r5, r5, r6, lsl #1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:400
    /* Enable the USART2 Pins Software Remapping */
    GPIO_PinRemapConfig(GPIO_Remap_USART2, ENABLE);
    RCC_APB1PeriphClockCmd(COM_USART_CLK[COM], ENABLE);
  }
#elif defined (USE_MANGO_Z1_EVAL)
    RCC_APB2PeriphClockCmd(COM_USART_CLK[COM], ENABLE); 
  22:	69a0      	ldr	r0, [r4, #24]
  24:	2101      	movs	r1, #1
  26:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  2a:	4c13      	ldr	r4, [pc, #76]	(78 <STM_EVAL_COMInit+0x78>)
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:404
#elif defined (USE_MANGO_Z1_EVAL)
    RCC_APB2PeriphClockCmd(COM_USART_CLK[COM], ENABLE); 
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  2c:	8bab      	ldrh	r3, [r5, #28]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  2e:	4444      	add	r4, r8
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:404
#elif defined (USE_MANGO_Z1_EVAL)
    RCC_APB2PeriphClockCmd(COM_USART_CLK[COM], ENABLE); 
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  30:	f8ad 3004 	strh.w	r3, [sp, #4]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  34:	ae01      	add	r6, sp, #4
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:405
    RCC_APB2PeriphClockCmd(COM_USART_CLK[COM], ENABLE); 
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  36:	2318      	movs	r3, #24
  38:	f88d 3007 	strb.w	r3, [sp, #7]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  3c:	68e0      	ldr	r0, [r4, #12]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:406
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  3e:	2303      	movs	r3, #3
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  40:	4631      	mov	r1, r6
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:406
#endif

  /* Configure USART Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = COM_TX_PIN[COM];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  42:	f88d 3006 	strb.w	r3, [sp, #6]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:407
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  46:	f7ff fffe 	bl	0 <GPIO_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:410
    
  /* Configure USART Rx as input floating */
  GPIO_InitStructure.GPIO_Pin = COM_RX_PIN[COM];
  4a:	8bed      	ldrh	r5, [r5, #30]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:411
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  4c:	2304      	movs	r3, #4
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:412
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  4e:	68e0      	ldr	r0, [r4, #12]
  50:	4631      	mov	r1, r6
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:411
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
    
  /* Configure USART Rx as input floating */
  GPIO_InitStructure.GPIO_Pin = COM_RX_PIN[COM];
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  52:	f88d 3007 	strb.w	r3, [sp, #7]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:410
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
    
  /* Configure USART Rx as input floating */
  GPIO_InitStructure.GPIO_Pin = COM_RX_PIN[COM];
  56:	f8ad 5004 	strh.w	r5, [sp, #4]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:412
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(COM_PORT[COM], &GPIO_InitStructure);
  5a:	f7ff fffe 	bl	0 <GPIO_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:415

  /* USART configuration */
  USART_Init(COM_USART[COM], USART_InitStruct);
  5e:	6920      	ldr	r0, [r4, #16]
  60:	4649      	mov	r1, r9
  62:	f7ff fffe 	bl	0 <USART_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:418
    
  /* Enable USART */
  USART_Cmd(COM_USART[COM], ENABLE);
  66:	6920      	ldr	r0, [r4, #16]
  68:	2101      	movs	r1, #1
  6a:	f7ff fffe 	bl	0 <USART_Cmd>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:419
}
  6e:	e8bd 837c 	ldmia.w	sp!, {r2, r3, r4, r5, r6, r8, r9, pc}
  72:	46c0      	nop			(mov r8, r8)
	...
Disassembly of section .text.STM_EVAL_PBGetState:

00000000 <STM_EVAL_PBGetState>:
STM_EVAL_PBGetState():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:350
  *     @arg Button_SEL: Joystick Sel Push Button    
  * @retval The Button GPIO pin value.
  */
uint32_t STM_EVAL_PBGetState(Button_TypeDef Button)
{
  return GPIO_ReadInputDataBit(BUTTON_PORT[Button], BUTTON_PIN[Button]);
   0:	4a05      	ldr	r2, [pc, #20]	(18 <STM_EVAL_PBGetState+0x18>)
   2:	4b06      	ldr	r3, [pc, #24]	(1c <STM_EVAL_PBGetState+0x1c>)
   4:	eb02 0280 	add.w	r2, r2, r0, lsl #2
   8:	eb03 0340 	add.w	r3, r3, r0, lsl #1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:349
  *     @arg Button_DOWN: Joystick Down Push Button
  *     @arg Button_SEL: Joystick Sel Push Button    
  * @retval The Button GPIO pin value.
  */
uint32_t STM_EVAL_PBGetState(Button_TypeDef Button)
{
   c:	b510      	push	{r4, lr}
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:350
  return GPIO_ReadInputDataBit(BUTTON_PORT[Button], BUTTON_PIN[Button]);
   e:	6950      	ldr	r0, [r2, #20]
  10:	8c19      	ldrh	r1, [r3, #32]
  12:	f7ff fffe 	bl	0 <GPIO_ReadInputDataBit>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:351
}
  16:	bd10      	pop	{r4, pc}
	...
Disassembly of section .text.STM_EVAL_PBInit:

00000000 <STM_EVAL_PBInit>:
STM_EVAL_PBInit():
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:291
  *     @arg Mode_EXTI: Button will be connected to EXTI line with interrupt
  *                     generation capability  
  * @retval None
  */
void STM_EVAL_PBInit(Button_TypeDef Button, Button_Mode_TypeDef Button_Mode)
{
   0:	b5f0      	push	{r4, r5, r6, r7, lr}
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:297
  GPIO_InitTypeDef GPIO_InitStructure;
  EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;

  /* Enable Button GPIO clock */
  RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
   2:	4c23      	ldr	r4, [pc, #140]	(90 <STM_EVAL_PBInit+0x90>)
   4:	0085      	lsls	r5, r0, #2
   6:	1963      	adds	r3, r4, r5
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:291
  *     @arg Mode_EXTI: Button will be connected to EXTI line with interrupt
  *                     generation capability  
  * @retval None
  */
void STM_EVAL_PBInit(Button_TypeDef Button, Button_Mode_TypeDef Button_Mode)
{
   8:	4607      	mov	r7, r0
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:297
  GPIO_InitTypeDef GPIO_InitStructure;
  EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;

  /* Enable Button GPIO clock */
  RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
   a:	6a58      	ldr	r0, [r3, #36]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:291
  *     @arg Mode_EXTI: Button will be connected to EXTI line with interrupt
  *                     generation capability  
  * @retval None
  */
void STM_EVAL_PBInit(Button_TypeDef Button, Button_Mode_TypeDef Button_Mode)
{
   c:	b085      	sub	sp, #20
   e:	460e      	mov	r6, r1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:297
  GPIO_InitTypeDef GPIO_InitStructure;
  EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;

  /* Enable Button GPIO clock */
  RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
  10:	f040 0001 	orr.w	r0, r0, #1	; 0x1
  14:	2101      	movs	r1, #1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:300
  
  /* Configure Button pin as input floating */
  GPIO_InitStructure.GPIO_Pin = BUTTON_PIN[Button];
  16:	eb04 0447 	add.w	r4, r4, r7, lsl #1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:297
  GPIO_InitTypeDef GPIO_InitStructure;
  EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;

  /* Enable Button GPIO clock */
  RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
  1a:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:300
  
  /* Configure Button pin as input floating */
  GPIO_InitStructure.GPIO_Pin = BUTTON_PIN[Button];
  1e:	8c23      	ldrh	r3, [r4, #32]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:302
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(BUTTON_PORT[Button], &GPIO_InitStructure);
  20:	a903      	add	r1, sp, #12
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:300

  /* Enable Button GPIO clock */
  RCC_APB2PeriphClockCmd(BUTTON_CLK[Button] | RCC_APB2Periph_AFIO, ENABLE);
  
  /* Configure Button pin as input floating */
  GPIO_InitStructure.GPIO_Pin = BUTTON_PIN[Button];
  22:	f8ad 300c 	strh.w	r3, [sp, #12]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:301
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  26:	2304      	movs	r3, #4
  28:	f88d 300f 	strb.w	r3, [sp, #15]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:302
  GPIO_Init(BUTTON_PORT[Button], &GPIO_InitStructure);
  2c:	4b19      	ldr	r3, [pc, #100]	(94 <STM_EVAL_PBInit+0x94>)
  2e:	195b      	adds	r3, r3, r5
  30:	6958      	ldr	r0, [r3, #20]
  32:	f7ff fffe 	bl	0 <GPIO_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:304

  if (Button_Mode == Mode_EXTI)
  36:	2e01      	cmp	r6, #1
  38:	d128      	bne.n	8c <STM_EVAL_PBInit+0x8c>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:307
  {
    /* Connect Button EXTI Line to Button GPIO Pin */
    GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);  
  3a:	f894 002c 	ldrb.w	r0, [r4, #44]
  3e:	f894 1030 	ldrb.w	r1, [r4, #48]
  42:	f7ff fffe 	bl	0 <GPIO_EXTILineConfig>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:310

    /* Configure Button EXTI line */
    EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
  46:	8ea2      	ldrh	r2, [r4, #52]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:313
    EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;

    if(Button != Button_WAKEUP)
  48:	b10f      	cbz	r7, 4e <STM_EVAL_PBInit+0x4e>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:315
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;  
  4a:	230c      	movs	r3, #12
  4c:	e000      	b.n	50 <STM_EVAL_PBInit+0x50>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:319
    }
    else
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;  
  4e:	2308      	movs	r3, #8
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:310
  {
    /* Connect Button EXTI Line to Button GPIO Pin */
    GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);  

    /* Configure Button EXTI line */
    EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
  50:	a804      	add	r0, sp, #16
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:319
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;  
    }
    else
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;  
  52:	f88d 3005 	strb.w	r3, [sp, #5]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:321
    }
    EXTI_InitStructure.EXTI_LineCmd = ENABLE;
  56:	2401      	movs	r4, #1
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:311
    /* Connect Button EXTI Line to Button GPIO Pin */
    GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);  

    /* Configure Button EXTI line */
    EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
    EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
  58:	2300      	movs	r3, #0
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:310
  {
    /* Connect Button EXTI Line to Button GPIO Pin */
    GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);  

    /* Configure Button EXTI line */
    EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
  5a:	f840 2d10 	str.w	r2, [r0, #-16]!
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:322
    else
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;  
    }
    EXTI_InitStructure.EXTI_LineCmd = ENABLE;
    EXTI_Init(&EXTI_InitStructure);
  5e:	4668      	mov	r0, sp
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:311
    /* Connect Button EXTI Line to Button GPIO Pin */
    GPIO_EXTILineConfig(BUTTON_PORT_SOURCE[Button], BUTTON_PIN_SOURCE[Button]);  

    /* Configure Button EXTI line */
    EXTI_InitStructure.EXTI_Line = BUTTON_EXTI_LINE[Button];
    EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
  60:	f88d 3004 	strb.w	r3, [sp, #4]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:321
    }
    else
    {
      EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;  
    }
    EXTI_InitStructure.EXTI_LineCmd = ENABLE;
  64:	f88d 4006 	strb.w	r4, [sp, #6]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:322
    EXTI_Init(&EXTI_InitStructure);
  68:	f7ff fffe 	bl	0 <EXTI_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:325

    /* Enable and set Button EXTI Interrupt to the lowest priority */
    NVIC_InitStructure.NVIC_IRQChannel = BUTTON_IRQn[Button];
  6c:	4b08      	ldr	r3, [pc, #32]	(90 <STM_EVAL_PBInit+0x90>)
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:330
    NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x0F;
    NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x0F;
    NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;

    NVIC_Init(&NVIC_InitStructure); 
  6e:	a802      	add	r0, sp, #8
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:325
    }
    EXTI_InitStructure.EXTI_LineCmd = ENABLE;
    EXTI_Init(&EXTI_InitStructure);

    /* Enable and set Button EXTI Interrupt to the lowest priority */
    NVIC_InitStructure.NVIC_IRQChannel = BUTTON_IRQn[Button];
  70:	eb03 0347 	add.w	r3, r3, r7, lsl #1
  74:	8f1b      	ldrh	r3, [r3, #56]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:328
    NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x0F;
    NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x0F;
    NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  76:	f88d 400b 	strb.w	r4, [sp, #11]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:325
    }
    EXTI_InitStructure.EXTI_LineCmd = ENABLE;
    EXTI_Init(&EXTI_InitStructure);

    /* Enable and set Button EXTI Interrupt to the lowest priority */
    NVIC_InitStructure.NVIC_IRQChannel = BUTTON_IRQn[Button];
  7a:	f88d 3008 	strb.w	r3, [sp, #8]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:326
    NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x0F;
  7e:	230f      	movs	r3, #15
  80:	f88d 3009 	strb.w	r3, [sp, #9]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:327
    NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x0F;
  84:	f88d 300a 	strb.w	r3, [sp, #10]
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:330
    NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;

    NVIC_Init(&NVIC_InitStructure); 
  88:	f7ff fffe 	bl	0 <NVIC_Init>
D:\WkPjt\MStory2.0\Mango-Z1.Firmware\Z1.Src005.AN2557.IAP.BootLoader\src/stm32_eval.c:332
  }
}
  8c:	b005      	add	sp, #20
  8e:	bdf0      	pop	{r4, r5, r6, r7, pc}
	...
